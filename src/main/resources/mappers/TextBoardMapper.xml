<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="program.textboard.mapper.TextBoardMapper">

 	<select id="getBoardList" resultType="cMap">
 		SELECT * 
 			FROM bboom_board
 	</select>
 	
 	<select id="getBoardInfo" resultType="cMap" parameterType="dMap">
 		SELECT *
 			FROM bboom_board
 		WHERE BOARD_SSN = #{boardSsn}
 	</select>
 	<insert id="posting" parameterType="dMap">
 		INSERT INTO bboom_board(U_NAME, TITLE, CONTENTS, ATT_FILE, REG_ID, REG_DT ,HASH_TAG)
      	VALUES (#{uName},#{title} ,#{contents}, #{attFile}, #{regId}, now(), #{hashTag})
 	</insert>	
 	
 	
 	<select id="getNoticeList" resultType="cMap">
		SELECT *, DATE_FORMAT(REG_DT, '%Y-%m-%d') AS REG_DT_YMD
		  FROM site_board
	</select>
	
	<select id="getNoticeInfo" resultType="cMap" parameterType="dMap">
		SELECT *, DATE_FORMAT(REG_DT, '%Y-%m-%d') AS REG_DT_YMD
		  FROM site_board
		WHERE SEQ = #{seq}
	</select>	
	
	<select id="getNoticePrev" resultType="cMap" parameterType="dMap">
		SELECT *, DATE_FORMAT(REG_DT, '%Y-%m-%d') AS REG_DT_YMD
		  FROM site_board
		WHERE SEQ = #{seq}-1
	</select>	
	
	<select id="getNoticeNext" resultType="cMap" parameterType="dMap">
		SELECT *, DATE_FORMAT(REG_DT, '%Y-%m-%d') AS REG_DT_YMD
		  FROM site_board
		WHERE SEQ = #{seq}+1
	</select>	
	
</mapper>